@page "{id}"
@model Assignment13750.Pages.Login.CourseModel
@{
}



<h1>Course @Model.Class.CourseType @Model.Class.CourseNo  @Model.Class.CourseName}}</h1>
<body>
    @for (int i = 0; i < Model.Assignments.Count(); i++)
    {
        <div class="container p-2 border-2">
            <div class="row">
                <div class="col border">
                    @Model.Assignments[i].Name
                </div>
                <div class="col border">
                    @Model.Assignments[i].Description
                </div>
                <div class="col-1 border">
                    <p>__/@Model.Assignments[i].Maxpoints</p>
                </div>
                <div class="col border">
                    @Model.Assignments[i].Duedate
                </div>

                @{
                    //////////////////////////  TEACHER  //////////////
                    if (Model.userlogin.IsTeacher)
                    {
                        <div class="col-2 border">
                            <a href="/Login/TeacherSubmissions/@Model.Assignments[i].ClassID" class="btn btn-primary">Submissions</a>
                        </div>
                        <div class="col-1 border">
                            <a class="btn btn-info" href="/TeacherPages/EditAssignment/@Model.Assignments[i].Id">Edit</a>
                        </div>
                        <div class="col-1 border">
                            <a class="btn btn-danger" href="/TeacherPages/DeleteAssignment/@Model.Assignments[i].Id">Delete</a>
                        </div>
                    }
                    ///////   STUDENT   ////////////////////////////
                    else
                    {
                        <div class="col-2 border">
                            <a class="btn btn-primary" href="/StudentPages/submit/@Model.Assignments[i].Id">Submit Assignment</a>
                        </div>
                    }
                }
                

            </div>
        </div>
    }
    @{
        if (Model.userlogin.IsTeacher)
        {
            <h2 class="text-decoration-underline">Create a Assignment</h2>
            <div class="row">
                <div class="col-md-4">
                    <form method="post">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <div class="form-group">
                            <label asp-for="Assignment.Name" class="control-label">Assignment Name</label>
                            <input asp-for="Assignment.Name" class="form-control" />
                            <span asp-validation-for="Assignment.Name" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="Assignment.Description" class="control-label">Description</label>
                            <input asp-for="Assignment.Description" class="form-control" type="text" />
                            <span asp-validation-for="Assignment.Description" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="Assignment.Maxpoints" class="control-label">Max Points</label>
                            <input asp-for="Assignment.Maxpoints" class="form-control" />
                            <span asp-validation-for="Assignment.Maxpoints" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="Assignment.Duedate" class="control-label">Due Date</label>
                            <input asp-for="Assignment.Duedate" class="form-control" />
                            <span asp-validation-for="Assignment.Duedate" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Submission Type</label>
                            <br />
                            <div class="form-check">
                                <label asp-for="Text" class="form-check-label"> Text</label>
                                <input asp-for="Text" id="sub" type="radio" value="true" class="form-check-input">
                            </div>
                            <div class="form-check">
                                <label asp-for="File" class="form-check-label">File</label>
                                <input asp-for="File" id="sub" value="true" type="radio" class="form-check-input">
                            </div>
                        </div>

                        <div class="form-group">
                            <input type="submit" value="Create" class="btn btn-primary" />

                        </div>
                        <div asp-validation-summary="All"></div>

                    </form>
                </div>
            </div>
        }
        else
        {
            
        }
    }
    
    
    
</body>